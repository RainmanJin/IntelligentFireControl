<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.bgy.ifc.dao.basic.AccountDao">
  <resultMap id="BaseResultMap" type="cn.com.bgy.ifc.entity.po.basic.Account">
    <result column="id" jdbcType="BIGINT" property="id" />
    <result column="organization_id" jdbcType="BIGINT" property="organizationId" />
    <result column="department_id" jdbcType="BIGINT" property="departmentId" />
    <result column="telephone" jdbcType="VARCHAR" property="telephone" />
    <result column="job_number" jdbcType="VARCHAR" property="jobNumber" />
    <result column="user_name" jdbcType="VARCHAR" property="userName" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="password_salt" jdbcType="VARCHAR" property="passwordSalt" />
    <result column="identity_number" jdbcType="VARCHAR" property="identityNumber" />
    <result column="sex" jdbcType="INTEGER" property="sex" />
    <result column="regist_time" jdbcType="TIMESTAMP" property="registTime" />
    <result column="is_disable" jdbcType="INTEGER" property="isDisable" />
    <result column="current_ip" jdbcType="VARCHAR" property="currentIp" />
    <result column="current_time" jdbcType="TIMESTAMP" property="currentTime" />
    <result column="last_ip" jdbcType="VARCHAR" property="lastIp" />
    <result column="last_time" jdbcType="TIMESTAMP" property="lastTime" />
    <result column="user_type" jdbcType="INTEGER" property="userType" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="cn.com.bgy.ifc.entity.po.basic.Account">
    <result column="remark" jdbcType="LONGVARCHAR" property="remark" />
  </resultMap>
  <sql id="Blob_Column_List">
    remark
  </sql>
  <insert id="insert" parameterType="cn.com.bgy.ifc.entity.po.basic.Account">
    insert into account (id, organization_id, department_id, 
      telephone, job_number, user_name, 
      password, password_salt, identity_number, 
      sex, regist_time, is_disable, 
      current_ip, current_time, last_ip, 
      last_time, user_type, remark
      )
    values (#{id,jdbcType=BIGINT}, #{organizationId,jdbcType=BIGINT}, #{departmentId,jdbcType=BIGINT}, 
      #{telephone,jdbcType=VARCHAR}, #{jobNumber,jdbcType=VARCHAR}, #{userName,jdbcType=VARCHAR}, 
      #{password,jdbcType=VARCHAR}, #{passwordSalt,jdbcType=VARCHAR}, #{identityNumber,jdbcType=VARCHAR}, 
      #{sex,jdbcType=INTEGER}, #{registTime,jdbcType=TIMESTAMP}, #{isDisable,jdbcType=INTEGER}, 
      #{currentIp,jdbcType=VARCHAR}, #{currentTime,jdbcType=TIMESTAMP}, #{lastIp,jdbcType=VARCHAR}, 
      #{lastTime,jdbcType=TIMESTAMP}, #{userType,jdbcType=INTEGER}, #{remark,jdbcType=LONGVARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="cn.com.bgy.ifc.entity.po.basic.Account">
    insert into account
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="organizationId != null">
        organization_id,
      </if>
      <if test="departmentId != null">
        department_id,
      </if>
      <if test="telephone != null">
        telephone,
      </if>
      <if test="jobNumber != null">
        job_number,
      </if>
      <if test="userName != null">
        user_name,
      </if>
      <if test="password != null">
        password,
      </if>
      <if test="passwordSalt != null">
        password_salt,
      </if>
      <if test="identityNumber != null">
        identity_number,
      </if>
      <if test="sex != null">
        sex,
      </if>
      <if test="registTime != null">
        regist_time,
      </if>
      <if test="isDisable != null">
        is_disable,
      </if>
      <if test="currentIp != null">
        current_ip,
      </if>
      <if test="currentTime != null">
        current_time,
      </if>
      <if test="lastIp != null">
        last_ip,
      </if>
      <if test="lastTime != null">
        last_time,
      </if>
      <if test="userType != null">
        user_type,
      </if>
      <if test="remark != null">
        remark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=BIGINT},
      </if>
      <if test="organizationId != null">
        #{organizationId,jdbcType=BIGINT},
      </if>
      <if test="departmentId != null">
        #{departmentId,jdbcType=BIGINT},
      </if>
      <if test="telephone != null">
        #{telephone,jdbcType=VARCHAR},
      </if>
      <if test="jobNumber != null">
        #{jobNumber,jdbcType=VARCHAR},
      </if>
      <if test="userName != null">
        #{userName,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        #{password,jdbcType=VARCHAR},
      </if>
      <if test="passwordSalt != null">
        #{passwordSalt,jdbcType=VARCHAR},
      </if>
      <if test="identityNumber != null">
        #{identityNumber,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        #{sex,jdbcType=INTEGER},
      </if>
      <if test="registTime != null">
        #{registTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isDisable != null">
        #{isDisable,jdbcType=INTEGER},
      </if>
      <if test="currentIp != null">
        #{currentIp,jdbcType=VARCHAR},
      </if>
      <if test="currentTime != null">
        #{currentTime,jdbcType=TIMESTAMP},
      </if>
      <if test="lastIp != null">
        #{lastIp,jdbcType=VARCHAR},
      </if>
      <if test="lastTime != null">
        #{lastTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userType != null">
        #{userType,jdbcType=INTEGER},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <delete id="deleteById" parameterType="long" >
    delete  from account where id=#{id,jdbcType=BIGINT}
  </delete>
  <select id="findById" parameterType="long" resultType="cn.com.bgy.ifc.entity.po.basic.Account">
     select  id, organization_id, department_id,
              telephone, job_number, user_name,
              password, password_salt, identity_number,
              sex, regist_time, is_disable,
              current_ip, current_time, last_ip,
              last_time, user_type, remark
      from account where id=#{id,jdbcType=BIGINT}
  </select>

  <select id="searchByWhere" parameterType="cn.com.bgy.ifc.entity.po.basic.Account" resultType="cn.com.bgy.ifc.entity.po.basic.Account">
     select  id, organization_id, department_id,
              telephone, job_number, user_name,
              password, password_salt, identity_number,
              sex, regist_time, is_disable,
              current_ip, current_time, last_ip,
              last_time, user_type, remark
       from account
    <trim prefix="where" suffix="" prefixOverrides="and">
        <if test="telephone != null" >
          and telephone= #{telephone,jdbcType=VARCHAR}
        </if>
        <if test="jobNumber != null">
          and  job_number #{jobNumber,jdbcType=VARCHAR}
        </if>
        <if test="userName != null">
          and user_name #{userName,jdbcType=VARCHAR}
        </if>
    </trim>
  </select>
<update id="updateById" parameterType="cn.com.bgy.ifc.entity.po.basic.Account" >
  update account set
    organization_id =#{organizationId,jdbcType=BIGINT},
    department_id = #{departmentId,jdbcType=BIGINT},
    telephone = #{telephone,jdbcType=VARCHAR},
    job_number = #{jobNumber,jdbcType=VARCHAR},
    user_name = #{userName,jdbcType=VARCHAR},
    password = #{password,jdbcType=VARCHAR},
    password_salt = #{passwordSalt,jdbcType=VARCHAR},
    identityn_umber = #{identityNumber,jdbcType=VARCHAR},
    sex =  #{sex,jdbcType=INTEGER},
    regist_time = #{registTime,jdbcType=TIMESTAMP},
    is_disable = #{isDisable,jdbcType=INTEGER},
    current_ip= #{currentIp,jdbcType=VARCHAR},
    current_time= #{currentTime,jdbcType=TIMESTAMP},
    last_ip= #{lastIp,jdbcType=VARCHAR},
    last_time= #{lastTime,jdbcType=TIMESTAMP},
    user_type= #{userType,jdbcType=INTEGER},
    remark= #{remark,jdbcType=LONGVARCHAR}
    where id=#{id,jdbcType=BIGINT}
</update>
  <!--根据电话号码查询用户对象-->
  <select id="findAccountByUserName" parameterType="String" resultMap="BaseResultMap">
    select
      id,
      organization_id,
      department_id,
      telephone,
      job_number,
      user_name,
      password,
      password_salt,
      identity_number,
      sex,
      regist_time,
      is_disable,
      current_ip,
      current_time,
      last_ip,
      last_time,
      user_type,
      remark
    from  account where telephone = #{telephone,jdbcType=VARCHAR}
  </select>
</mapper>